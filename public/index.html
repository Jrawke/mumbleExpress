<!DOCTYPE html>
<html ng-app="mumbleExpressApp">
  <head>
    <title>mumbleExpress</title>
    <script src="socket.io/socket.io.js"></script>
    <script src="angular/angular.min.js"></script>
    <script src="angularjs-scroll-glue/src/scrollglue.js"></script>
    <script src="angular-route/angular-route.js"></script>
    <script src="angular-socket-io/socket.min.js"></script>
    
    <script src="main.js"></script>
    <link rel="stylesheet" href="style.css"/>
  </head>
  <body>

    <div id="page-container">
      <div id="header">
	  <img src="icons/config_network.png" height="30" width="30" class="mainIcon">
	  <img src="icons/Information_icon.svg" height="30" width="30" class="mainIcon">
	  <img src="icons/muted_self.svg" height="30" width="30" class="mainIcon">
	  <img src="icons/deafened_self.svg" height="30" width="30" class="mainIcon">
	  <img src="icons/comment.svg" height="30" width="30" class="mainIcon">
	  <img src="icons/config_basic.png" height="30" width="30" class="mainIcon">
      </div>
      <div ng-controller="mumbleExpressController">
	<div id="users">

	  <script type="text/ng-template" id="channelTree">
	    <span class="channelName">{{ channel.name }}</span>
	    <ul ng-if="channel.childChannels">
	      <li ng-repeat="user in channel.users">
		<img src="icons/talking_off.svg" height="20" width="20">
		<span class="listUserName">{{ user.name }}</span>
		<img ng-if="user.self_mute" src="icons/muted_self.svg" height="20" width="20">
		<img ng-if="user.self_deaf" src="icons/deafened_self.svg" height="20" width="20">
	      </li>
	      <li ng-repeat="channel in channel.childChannels" ng-include="'channelTree'">
	      </li>
	    </ul>
	  </script>

	  <ul class="channelTree">
	    <li ng-repeat="channel in channelTree.childChannels" ng-include="'channelTree'"></li>
	  </ul>
	  
	</div>
	<div id="messages" scroll-glue>
	  <p ng-repeat="msg in msgs track by $index">
	    <span class="messageTime">[ {{msg.time}} ] </span>
	    <span class="messageUserName">{{msg.userName}}</span>
	    <span class="messageText">: {{msg.message}}</span>
	  </p>
	</div>
	<div id="chatInput">
	  <form ng-submit="sendMsg()">
	    <input type="text" ng-model="msg.text"/>
	  </form>
	</div>
      </div>
    </div>
    
  </body>
</html>
